(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9025],{1766:function(n,t,e){var r={"./amplify-amazon-button_5.entry.js":[2265,2265],"./amplify-auth-container.entry.js":[292,292],"./amplify-auth-fields_9.entry.js":[3763,3763],"./amplify-authenticator.entry.js":[2146,2146],"./amplify-button_3.entry.js":[8473,8473],"./amplify-chatbot.entry.js":[4579,4579],"./amplify-checkbox.entry.js":[1523,1523],"./amplify-confirm-sign-in_7.entry.js":[5208,5208],"./amplify-container.entry.js":[4131,4131],"./amplify-federated-buttons_2.entry.js":[885,885],"./amplify-federated-sign-in.entry.js":[7611,7611],"./amplify-form-field_4.entry.js":[801,801],"./amplify-greetings.entry.js":[9616,9616],"./amplify-icon-button.entry.js":[6063,6063],"./amplify-icon.entry.js":[2831,2831],"./amplify-link.entry.js":[8870,8870],"./amplify-nav_2.entry.js":[9798,9798],"./amplify-photo-picker.entry.js":[5819,5819],"./amplify-picker.entry.js":[5401,5401],"./amplify-radio-button_3.entry.js":[2613,2613],"./amplify-s3-album.entry.js":[2890,2890],"./amplify-s3-image-picker.entry.js":[1324,9742],"./amplify-s3-image.entry.js":[3575,3575],"./amplify-s3-text-picker.entry.js":[8883,8883],"./amplify-s3-text.entry.js":[5905,5905],"./amplify-select-mfa-type.entry.js":[8384,8384],"./amplify-sign-in-button.entry.js":[5574,5574],"./amplify-tooltip.entry.js":[1223,1223]};function o(n){if(!e.o(r,n))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+n+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=r[n],o=t[0];return e.e(t[1]).then((function(){return e(o)}))}o.keys=function(){return Object.keys(r)},o.id=1766,n.exports=o},9697:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/create-post",function(){return e(9506)}])},9506:function(n,t,e){"use strict";e.r(t);var r=e(4051),o=e.n(r),i=e(5893),a=e(5194),u=e(7294),c=e(3900),s=e(552),l=e(1163),p=e(5934),d=e(949),f=e(5152);e(1312);function m(n,t,e,r,o,i,a){try{var u=n[i](a),c=u.value}catch(s){return void e(s)}u.done?t(c):Promise.resolve(c).then(r,o)}function y(n){return function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function a(n){m(i,r,o,a,u,"next",n)}function u(n){m(i,r,o,a,u,"throw",n)}a(void 0)}))}}function b(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function h(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{},r=Object.keys(e);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(e).filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})))),r.forEach((function(t){b(n,t,e[t])}))}return n}var j=(0,f.default)((function(){return Promise.all([e.e(3126),e.e(1634),e.e(2562)]).then(e.bind(e,1634))}),{loadableGenerated:{webpack:function(){return[1634]}},ssr:!1}),g={title:"",content:""};t.default=(0,a.Q)((function(){var n=(0,u.useState)(g),t=n[0],e=n[1],r=t.title,a=t.content,f=(0,l.useRouter)(),m=(0,u.useState)(null),v=m[0],x=m[1],k=(0,u.useRef)(null);function P(){return(P=y(o().mark((function n(){var e,i;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r&&a){n.next=2;break}return n.abrupt("return");case 2:if(e=(0,p.Z)(),t.id=e,!v){n.next=9;break}return i="".concat(v.name,"_").concat((0,p.Z)()),t.coverImage=i,n.next=9,c.Ke.put(i,v);case 9:return n.next=11,s.b.graphql({query:d.qb,variables:{input:t},authMode:"AMAZON_COGNITO_USER_POOLS"});case 11:f.push("/posts/".concat(e));case 12:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function _(){return(_=y(o().mark((function n(){return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:k.current.click();case 1:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,i.jsxs)("div",{children:[(0,i.jsx)("h1",{className:"text-3xl font-semibold tracking-wide mt-6",children:"Create new Post"}),(0,i.jsx)("input",{onChange:function(n){e((function(){return h({},t,b({},n.target.name,n.target.value))}))},name:"title",placeholder:"Title",value:t.title,className:"border-b pb-2 text-lg my-4 focus:outline-none w-full font-light text-gray-500 placeholder-gray-500 y-2"}),v&&(0,i.jsx)("img",{src:URL.createObjectURL(v),className:"my-4"}),(0,i.jsx)(j,{value:t.content,onChange:function(n){return e(h({},t,{content:n}))}}),(0,i.jsx)("input",{type:"file",ref:k,className:"absolute w-0 h-0",onChange:function(n){var t=n.target.files[0];t&&x(t)}}),(0,i.jsx)("button",{type:"button",className:"bg-green-600 text-white font-semibold px-8 py-2 rounded-lg mr-2",onClick:function(){return _.apply(this,arguments)},children:"Upload Cover Image"}),(0,i.jsx)("button",{type:"button",className:"mb-4 bg-blue-600 text-white font-semibold px-8 py-2 rounded-lg",onClick:function(){return P.apply(this,arguments)},children:"Create Post"})," "]})}))},949:function(n,t,e){"use strict";e.d(t,{qb:function(){return r},CP:function(){return o},fR:function(){return i},Yr:function(){return a}});var r="\n  mutation CreatePost(\n    $input: CreatePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    createPost(input: $input, condition: $condition) {\n      id\n      title\n      content\n      username\n      coverImage\n      comments {\n        items {\n          id\n          message\n          postID\n          createdAt\n          updatedAt\n          createdBy\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n",o="\n  mutation UpdatePost(\n    $input: UpdatePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    updatePost(input: $input, condition: $condition) {\n      id\n      title\n      content\n      username\n      coverImage\n      comments {\n        items {\n          id\n          message\n          postID\n          createdAt\n          updatedAt\n          createdBy\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n",i="\n  mutation DeletePost(\n    $input: DeletePostInput!\n    $condition: ModelPostConditionInput\n  ) {\n    deletePost(input: $input, condition: $condition) {\n      id\n      title\n      content\n      username\n      coverImage\n      comments {\n        items {\n          id\n          message\n          postID\n          createdAt\n          updatedAt\n          createdBy\n        }\n        nextToken\n      }\n      createdAt\n      updatedAt\n    }\n  }\n",a="\n  mutation CreateComment(\n    $input: CreateCommentInput!\n    $condition: ModelCommentConditionInput\n  ) {\n    createComment(input: $input, condition: $condition) {\n      id\n      message\n      post {\n        id\n        title\n        content\n        username\n        coverImage\n        comments {\n          nextToken\n        }\n        createdAt\n        updatedAt\n      }\n      postID\n      createdAt\n      updatedAt\n      createdBy\n    }\n  }\n"}},function(n){n.O(0,[9774,552,8269,5194,2888,179],(function(){return t=9697,n(n.s=t);var t}));var t=n.O();_N_E=t}]);